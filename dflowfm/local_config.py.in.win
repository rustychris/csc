# -*- coding: utf-8 -*-
"""
Created on Fri Nov 16 16:17:17 2018

@author: rustyh
"""

import sys, os

dimr="C:/Program Files (x86)/Deltares/Delft3D FM Suite 2018.01 HMWQ (1.4.4.39490)/plugins/DeltaShell.Dimr/kernels/x64"
dfm_bin_dir=os.path.join(dimr,'dflowfm','bin')
share_bin_dir=os.path.join(dimr,'share','bin')
dflowfm=os.path.join(dfm_bin_dir,'dflowfm-cli.exe')
mpiexec=os.path.join(share_bin_dir,'mpiexec.exe')
mapmerge=os.path.join(dfm_bin_dir,'dfmoutput.exe')
delwaq1=os.path.join(dimr,'dwaq','bin','delwaq1.exe')
delwaq2=os.path.join(dimr,'dwaq','bin','delwaq2.exe')
dwaq_proc=os.path.join(dimr,'dwaq','default','proc_def')

dimr_paths=";".join([dfm_bin_dir, share_bin_dir])
run_dir_root="E:/proj/CacheSlough/Modeling/DFM/runs"
# this is important to avoid a password dialog where mpiexec
# tries to get network access.
mpi_args=["-localonly"]

# other defaults for local machine
num_procs=16

# use to install these values directly into dfm.DFlowModel
# refactor puts the settings into LocalConfig for cleaner
# reloading and subclassing.

# Copy the settings to the DFlowModel base class. 
# Note that if dfm is reloaded, you'll have to reload
# local_config, too, to get these settings
class LocalConfig(object):
    dfm_bin_dir=dfm_bin_dir
    # These seem suspicious for a Windows run. Probably need to correct these, or just
    # run openmp instead of MPI
    # mpi_bin_dir="/usr/bin"
    mpi_bin_exe="mpiexec.mpich"
    num_procs=num_procs
    dfm_bin_exe="dflowfm-cli.exe"
    mpi_args=('-localonly',)

